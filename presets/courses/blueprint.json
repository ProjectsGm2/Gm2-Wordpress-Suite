{
  "post_types": {
    "course": {
      "labels": {
        "name": "Courses",
        "singular_name": "Course"
      },
      "supports": [
        "title",
        "editor",
        "thumbnail"
      ],
      "has_archive": true,
      "rewrite": {
        "slug": "courses"
      },
      "menu_icon": "dashicons-welcome-learn-more",
      "template": [
        [
          "core/group",
          {
            "metadata": {
              "name": "Course Layout"
            },
            "layout": {
              "type": "constrained"
            }
          },
          [
            [
              "core/heading",
              {
                "level": 2,
                "placeholder": "Course headline or hero text"
              }
            ],
            [
              "core/paragraph",
              {
                "placeholder": "Introduce the course or launch Elementor to design the section."
              }
            ],
            [
              "core/shortcode",
              {
                "text": "[elementor-template id=\"\"]"
              }
            ]
          ]
        ]
      ],
      "template_lock": "insert",
      "seo": {
        "meta_title": "{{title}} \u2013 Course Overview",
        "meta_description": "{{description}}",
        "canonical": "{{permalink}}",
        "open_graph": {
          "title": "{{title}}",
          "description": "{{description}}",
          "image": "{{image}}"
        },
        "twitter": {
          "card": "summary_large_image",
          "title": "{{title}}",
          "description": "{{description}}",
          "image": "{{image}}"
        }
      }
    },
    "lesson": {
      "labels": {
        "name": "Lessons",
        "singular_name": "Lesson"
      },
      "supports": [
        "title",
        "editor",
        "thumbnail"
      ],
      "has_archive": true,
      "rewrite": {
        "slug": "lessons"
      },
      "menu_icon": "dashicons-welcome-learn-more",
      "show_in_rest": true,
      "rest_base": "lessons"
    },
    "instructor": {
      "labels": {
        "name": "Instructors",
        "singular_name": "Instructor"
      },
      "supports": [
        "title",
        "editor",
        "thumbnail"
      ],
      "has_archive": true,
      "rewrite": {
        "slug": "instructors"
      },
      "menu_icon": "dashicons-welcome-learn-more",
      "show_in_rest": true,
      "rest_base": "instructors"
    }
  },
  "taxonomies": {
    "course_category": {
      "object_type": [
        "course"
      ],
      "labels": {
        "name": "Course Categories",
        "singular_name": "Course Category"
      },
      "hierarchical": false,
      "rewrite": {
        "slug": "course-category"
      }
    }
  },
  "field_groups": [
    {
      "key": "group_course_details",
      "title": "Course Details",
      "fields": [
        {
          "key": "field_provider",
          "label": "Provider",
          "name": "provider",
          "type": "text",
          "required": true,
          "expose_in_rest": true
        },
        {
          "key": "field_course_code",
          "label": "Course Code",
          "name": "course_code",
          "type": "text",
          "regex": "^[A-Z0-9-]+$",
          "required": true,
          "expose_in_rest": true
        },
        {
          "key": "field_course_url",
          "label": "Course URL",
          "name": "course_url",
          "type": "url",
          "expose_in_rest": true
        },
        {
          "key": "field_course_lessons",
          "label": "Lessons",
          "name": "lessons",
          "type": "relationship",
          "relationship_type": "post",
          "post_types": [
            "lesson"
          ],
          "sync": "two-way",
          "instructions": "Select lessons that belong to this course.",
          "expose_in_rest": true,
          "rest": {
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "minimum": 1
              }
            }
          }
        },
        {
          "key": "field_course_instructors",
          "label": "Instructors",
          "name": "instructors",
          "type": "relationship",
          "relationship_type": "post",
          "post_types": [
            "instructor"
          ],
          "sync": "two-way",
          "instructions": "Assign instructors leading this course.",
          "expose_in_rest": true,
          "rest": {
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "minimum": 1
              }
            }
          }
        }
      ]
    },
    {
      "key": "group_lesson_details",
      "title": "Lesson Details",
      "fields": [
        {
          "key": "field_lesson_course",
          "label": "Parent Course",
          "name": "course",
          "type": "relationship",
          "relationship_type": "post",
          "post_types": [
            "course"
          ],
          "max": 1,
          "sync": "two-way",
          "instructions": "Associate this lesson with its primary course.",
          "expose_in_rest": true,
          "rest": {
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "minimum": 1
              },
              "maxItems": 1
            }
          }
        }
      ]
    },
    {
      "key": "group_instructor_details",
      "title": "Instructor Details",
      "fields": [
        {
          "key": "field_instructor_courses",
          "label": "Courses",
          "name": "courses",
          "type": "relationship",
          "relationship_type": "post",
          "post_types": [
            "course"
          ],
          "sync": "two-way",
          "instructions": "Select the courses this instructor teaches.",
          "expose_in_rest": true,
          "rest": {
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "minimum": 1
              }
            }
          }
        }
      ]
    }
  ],
  "schema_mappings": {
    "course": {
      "type": "Course",
      "map": {
        "provider": "provider",
        "courseCode": "course_code",
        "url": "course_url"
      }
    }
  },
  "label": "Courses",
  "description": "Course catalogue blueprint with provider metadata and Elementor hero placeholder.",
  "fields": {
    "groups": [
      {
        "key": "group_course_details",
        "title": "Course Details",
        "fields": [
          {
            "key": "field_provider",
            "label": "Provider",
            "name": "provider",
            "type": "text",
            "required": true,
            "expose_in_rest": true
          },
          {
            "key": "field_course_code",
            "label": "Course Code",
            "name": "course_code",
            "type": "text",
            "regex": "^[A-Z0-9-]+$",
            "required": true,
            "expose_in_rest": true
          },
          {
            "key": "field_course_url",
            "label": "Course URL",
            "name": "course_url",
            "type": "url",
            "expose_in_rest": true
          },
          {
            "key": "field_course_lessons",
            "label": "Lessons",
            "name": "lessons",
            "type": "relationship",
            "relationship_type": "post",
            "post_types": [
              "lesson"
            ],
            "sync": "two-way",
            "instructions": "Select lessons that belong to this course.",
            "expose_in_rest": true,
            "rest": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "minimum": 1
                }
              }
            }
          },
          {
            "key": "field_course_instructors",
            "label": "Instructors",
            "name": "instructors",
            "type": "relationship",
            "relationship_type": "post",
            "post_types": [
              "instructor"
            ],
            "sync": "two-way",
            "instructions": "Assign instructors leading this course.",
            "expose_in_rest": true,
            "rest": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "minimum": 1
                }
              }
            }
          }
        ]
      },
      {
        "key": "group_lesson_details",
        "title": "Lesson Details",
        "fields": [
          {
            "key": "field_lesson_course",
            "label": "Parent Course",
            "name": "course",
            "type": "relationship",
            "relationship_type": "post",
            "post_types": [
              "course"
            ],
            "max": 1,
            "sync": "two-way",
            "instructions": "Associate this lesson with its primary course.",
            "expose_in_rest": true,
            "rest": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "minimum": 1
                },
                "maxItems": 1
              }
            }
          }
        ]
      },
      {
        "key": "group_instructor_details",
        "title": "Instructor Details",
        "fields": [
          {
            "key": "field_instructor_courses",
            "label": "Courses",
            "name": "courses",
            "type": "relationship",
            "relationship_type": "post",
            "post_types": [
              "course"
            ],
            "sync": "two-way",
            "instructions": "Select the courses this instructor teaches.",
            "expose_in_rest": true,
            "rest": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "integer",
                  "minimum": 1
                }
              }
            }
          }
        ]
      }
    ]
  },
  "relationships": [
    {
      "from": "course",
      "to": "lesson",
      "type": "course_to_lesson",
      "direction": "course_to_lesson",
      "label": "Lessons",
      "reverse_label": "Parent Course",
      "cardinality": "one-to-many"
    },
    {
      "from": "course",
      "to": "instructor",
      "type": "course_to_instructor",
      "direction": "course_to_instructor",
      "label": "Instructors",
      "reverse_label": "Courses",
      "cardinality": "many-to-many"
    }
  ],
  "default_terms": {
    "course_category": [
      {
        "name": "On Demand",
        "slug": "on-demand"
      },
      {
        "name": "In Person",
        "slug": "in-person"
      }
    ]
  },
  "elementor_query_ids": [
    {
      "key": "active_courses",
      "id": "gm2_courses_active",
      "description": "Published courses flagged as active.",
      "post_types": [
        "course"
      ]
    }
  ],
  "elementor": {
    "templates": {
      "single_course": {
        "type": "shortcode",
        "description": "Insert a saved Elementor template ID to enhance the course hero.",
        "file": "elementor/course-hero.json"
      }
    }
  },
  "seo_mappings": [
    {
      "key": "course",
      "type": "Course",
      "map": {
        "provider": "provider",
        "courseCode": "course_code",
        "url": "course_url"
      }
    }
  ],
  "templates": {
    "course_single": {
      "post_type": "course",
      "lock": "insert",
      "blocks": [
        [
          "core/group",
          {
            "metadata": {
              "name": "Course Layout"
            },
            "layout": {
              "type": "constrained"
            }
          },
          [
            [
              "core/heading",
              {
                "level": 2,
                "placeholder": "Course headline or hero text"
              }
            ],
            [
              "core/paragraph",
              {
                "placeholder": "Introduce the course or launch Elementor to design the section."
              }
            ],
            [
              "core/shortcode",
              {
                "text": "[elementor-template id=\"\"]"
              }
            ]
          ]
        ]
      ],
      "description": "Block layout introduces the course and leaves room for Elementor embellishments.",
      "elementor_placeholder": "[elementor-template id=\"\"]"
    }
  }
}
